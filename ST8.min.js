(e=>{if("object"==typeof window.ST8)return;let a=window.ST8={V:{},F:{},sub:(e,o)=>(a.F[e]=a.F[e]||[],a.F[e].indexOf(o)>=0||(a.F[e].push(o),a.V[e]&&o(a.V[e])),a),unsub:(e,o)=>{if(a.F&&a.F[e]){let r=a.F[e].indexOf(o);r>=0&&a.F[e].splice(r,1)}return a},set:(e,o,r)=>e.constructor!==Object||void 0!==o||r?(a.V[e]===o||(a.V[e]=o,a.F[e]&&a.F[e].forEach((e=>e.call(a,o)))),a):(Object.keys(e).forEach((o=>a.set(o,e[o],1))),a),save:e=>(localStorage.ST8V=JSON.stringify(a.V),a),draw:e=>(Object.keys(a.F).forEach((e=>a.F[e]&&a.F[e].forEach((o=>o.call(a,a.V[e]))))),a),load:e=>localStorage.ST8V?(a.V=JSON.parse(localStorage.ST8V),a.draw()):a,wipe:e=>(delete localStorage.ST8,a.V={},a.draw())};a.load()})();