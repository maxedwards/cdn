function debugWrap(t,e){window._fnraws.push(t);var n="with(this) return `${"+t+"}`;",p="window._fnraws["+(window._fnraws.length-1)+"]";return new Function("try{"+n+"}catch(e){console.error(e.toString(),'IN','"+e+"', '[', "+p+", ']')}")}function tapp(t,e,n){var p=this;if(p.src=t.innerHTML,p.crumb=n||"APP",!t)throw"Invalid DOM node";return p.componentID=e||"MAIN",t.tapp=p,p.el=t,p._components=[],p._inners=[],p._attrs=[],p}window._fnraws=[],Object.prototype.shimQSA=function(t,e){return"function"!=typeof this.querySelectorAll?alert("Not a DOM node / QSA missing!"):this.querySelectorAll(t)},tapp.prototype.refreshComponents=function(t,e,n){var p=this;if(!t._comps){if(t.innerHTML.indexOf("tapp-component")<0)return t._comps=[];t._comps=t.shimQSA("[tapp-component]",p.crumb)}return e?(t._comps.forEach(e=>p._instantiateComponent(e,p,n?t:null)),t._comps.length):0},tapp.prototype._instantiateComponent=(divC,parent,hostel)=>{var C=this,cid;if(divC.tapp)return divC.tapp.render();if(Object.keys(tapp.templates).forEach(t=>{divC.classList.contains(t)&&(cid=t)}),!cid)return console.log(divC.className," is not a registered component class:");var O,el=divC,init=divC.getAttribute("tapp-init")||divC.innerText;with(parent.ctx)try{eval("O="+(init||"{}"))}catch(e){console.error(e.toString(),"in",parent.crumb,"COMPONENT",cid,"[",init,"]")}return divC.classList.remove("tapp"),divC.innerHTML=tapp.templates[cid],new tapp(divC,cid,parent.crumb+"."+cid),parent._components.push(divC.tapp),C.root=parent.root,divC.tapp.parent=parent,divC.tapp.root=C.root,divC.tapp.hostel=hostel,divC.tapp.create(O,C.root).render()},tapp.prototype.create=function(t,e){var n=this;return n.root=e||n.root||n,(t=t||{}).tapp=n,n.ctx=n.el.ctx=t,"function"==typeof tapp.on[n.componentID+".create"]&&tapp.on[n.componentID+".create"].call(n,n.ctx),n.expand(),n.refreshComponents(n.el),n},tapp.prototype.expand=function(){const skipattr="tapp tapp-component tapp-eval tapp-boot tapp-init".split(" ");var C=this,el=C.el;function doExpand(L){var arr=L.getAttribute("tapp-for").split(":"),key=arr[0];with(C.ctx)arr=Array.from(eval(arr[1]));L.removeAttribute("tapp-for"),L.setAttribute("tapp",""),L.classList.add("tapp-exp");for(var tmpl=L.outerHTML.split(":"+key+":"),h="",i=0;i<arr.length;i++)h+=tmpl.join(i.toString());L.outerHTML=h}function expNext(){var t=document.querySelector("[tapp-for]");t&&(doExpand(t),expNext())}return C._inners.splice(0),C._components.splice(0),C._attrs.splice(0),expNext(),el.shimQSA("[tapp-evalto]",C.crumb).forEach(t=>{var e=t.getAttribute("tapp-evalto");t.outerHTML=`<${e} tapp-eval>${t.getAttribute("tapp-eval")||t.innerText}</${e}>`}),el.shimQSA("code",C.crumb).forEach(t=>{t.outerHTML=`<span tapp-eval>${t.getAttribute("tapp-eval")||t.innerText}</span>`}),el.shimQSA("[tapp-eval]",C.crumb).forEach(t=>{t.tapp=C,t._evalRaw=t.getAttribute("tapp-eval")||t.innerText,t.setAttribute("tapp-eval",""),C.ctx.Components=tapp.components,t.fnHTML=debugWrap(t._evalRaw,C.crumb+":CODE").bind(C.ctx),t.fnInner=function(){var e=t.fnHTML();t.innerHTML!=e&&(t._comps&&(t._comps.forEach(t=>{t.tapp.destroy(),delete t.tapp}),delete t._comps),t.innerHTML=e,C.refreshComponents(t,1,1))},C._inners.push(t.fnInner)}),el.shimQSA("[tapp],[tapp-eval],[tapp-class],[tapp-style],[tapp-component]",C.crumb).forEach(t=>{t.ctx||(t.ctx=C.ctx,t.render=C.render.bind(C),t.refresh=function(){t._fnall.forEach(t=>t())}),t._fnall=[],t.getAttribute("tapp-class")&&!t.fnClass&&(t._classRaw=t.getAttribute("tapp-class"),t.removeAttribute("tapp-class"),t._basClass=t.className,t._fnClass=debugWrap(t._classRaw,C.crumb+":CLASS").bind(C),t.fnClass=function(){t.className=t._basClass+" "+t._fnClass()},C._attrs.push(t.fnClass),t._fnall.push(t.fnClass)),t.getAttribute("tapp-style")&&!t.fnStyle&&(t._styleRaw=t.getAttribute("tapp-style"),t.removeAttribute("tapp-style"),t._basStyle=t.style.cssText,t._fnStyle=debugWrap(t._styleRaw,C.crumb+":STYLE").bind(C),t.fnStyle=function(){t.style.cssText=t._basStyle+";"+t._fnStyle()},C._attrs.push(t.fnStyle),t._fnall.push(t.fnStyle)),Array.from(t.attributes).filter(t=>t.specified&&skipattr.indexOf(t.nodeName)<0&&t.nodeName.startsWith("tapp-")).forEach(e=>{var n=t.getAttribute(e.nodeName),p=e.nodeName.slice(e.nodeName.indexOf("-")+1);t.removeAttribute(e.nodeName);let a=debugWrap(n,C.crumb+":"+p).bind(C),o=function(){t.setAttribute(p,a())};C._attrs.push(o),t._fnall.push(o)})}),C},tapp.prototype.render=function(t,e){var n=this;return n._inners?("function"==typeof tapp.on[n.componentID+".render"]&&tapp.on[n.componentID+".render"].call(n,n.ctx),n._inners&&n._inners.forEach(t=>t()),n._attrs&&n._attrs.forEach(t=>t()),t||(refd=n.refreshComponents(n.el,1)),"function"==typeof tapp.on[n.componentID+".render-post"]&&tapp.on[n.componentID+".render-post"].call(n,n.ctx),n):console.warn("!!tapp.js: SKIPPED RENDER OF DESTROYED COMPONENT",n)},tapp.prototype.destroy=function(t){var e=this;return e.componentID&&"function"==typeof tapp.on[e.componentID+".destroy"]&&tapp.on[e.componentID+".destroy"].call(e,e.ctx),e.parent&&(e.parent.removeChild(e),delete e.parent),e._inners&&e._inners.splice(0),e._attrs&&e._attrs.splice(0),e._components&&e._components.forEach(t=>{delete t.parent,t.destroy()}),e._components&&e._components.splice(0),t?(e.el.innerHTML=e.src,e):(e.el?(e.el.innerHTML="",e.el.outerHTML=""):alert("An elementless component was redestroyed!"),delete e.el,delete e._inners,delete e._attrs,delete e._components,delete e.ctx,delete e.O,e)},tapp.prototype.reboot=tapp.prototype.reset=function(){this.ctx;this.destroy(1).create(this.ctx).render()},tapp.prototype.removeChild=function(t){var e=this._components.indexOf(t);if(e<0)throw"No such child";this._components.splice(e,1)},tapp.on={},tapp.templates={},tapp.fetches=0,tapp.registerComponents=function(){function includeHTML(){var z,i,elmnt,file,xhttp;for(z=document.getElementsByTagName("*"),i=0;i<z.length;i++)if(elmnt=z[i],file=elmnt.getAttribute("tapp-include-html"),file)return tapp.fetches++,xhttp=new XMLHttpRequest,xhttp.onreadystatechange=function(){if(4==this.readyState){if(tapp.fetches--,200==this.status){elmnt.innerHTML=this.responseText;var h0=document.getElementsByTagName("head")[0];elmnt.shimQSA("script","includeHTML").forEach(S=>{if(""!=S.src){var tag=document.createElement("script");tag.src=S.src,h0.appendChild(tag)}else try{eval(S.innerHTML)}catch(t){console.error(t)}})}404==this.status&&(elmnt.innerHTML="<b>tapp-include-html</b><br /><br />404 not found: <pre>"+file+"</pre>"),elmnt.removeAttribute("tapp-include-html"),elmnt.setAttribute("tapp-included",file),tapp.registerComponents(),0==tapp.fetches&&window.loaded&&tapp.isReady()}},xhttp.open("GET",file,!0),void xhttp.send()}return includeHTML(),document.shimQSA("template.tapp-template,template[tapp-template]","registerComponents").forEach(t=>{t.id||(t.id=t.getAttribute("tapp-template")),t.id&&(tapp.templates[t.id]||(tapp.templates[t.id]=t.innerHTML,tapp.components=tapp.components||{},tapp.components[t.id]=function(e){return`<div tapp-component class="${t.id}">${JSON.stringify(e)}</div>`},tapp.components[t.id].all=function(e){return e.map(e=>tapp.components[t.id](e)).join("\n")}))}),tapp},tapp.boot=function(t,e){"string"==typeof t&&(t=document.querySelector(t)),t.tapp||(t.tapp=new tapp(t).create(e));new Date;return t.tapp.render(),t.tapp},tapp._onready=[],tapp.onready=function(t){tapp._onready.push(t)},tapp.isReady=function(){tapp._onready.forEach(t=>t())},window.onload=function(){window.loaded=!0,tapp.fetches||tapp.isReady()},"loading"!=document.readyState?tapp.registerComponents():window.addEventListener("DOMContentLoaded",tapp.registerComponents),tapp.onready((function(){document.shimQSA("[tapp-boot]").forEach(el=>{var o={},boot=el.getAttribute("tapp-boot");if(boot)try{eval("o="+boot)}catch(t){console.error("tapp-boot invalid config:",t)}tapp.boot(el,o)})})),function(t,e){"use strict";"function"!=typeof t.CustomEvent&&(t.CustomEvent=function(t,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var p=e.createEvent("CustomEvent");return p.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),p},t.CustomEvent.prototype=t.Event.prototype),e.addEventListener("touchstart",(function(t){"true"!==t.target.getAttribute("data-swipe-ignore")&&(i=t.target,r=Date.now(),n=t.touches[0].clientX,p=t.touches[0].clientY,a=0,o=0)}),!1),e.addEventListener("touchmove",(function(t){if(n&&p){var e=t.touches[0].clientX,r=t.touches[0].clientY;a=n-e,o=p-r}}),!1),e.addEventListener("touchend",(function(t){if(i===t.target){var e=parseInt(i.getAttribute("data-swipe-threshold")||"20",10),s=parseInt(i.getAttribute("data-swipe-timeout")||"500",10),c=Date.now()-r,l="";Math.abs(a)>Math.abs(o)?Math.abs(a)>e&&c<s&&(l=a>0?"swiped-left":"swiped-right"):Math.abs(o)>e&&c<s&&(l=o>0?"swiped-up":"swiped-down"),""!==l&&i.dispatchEvent(new CustomEvent(l,{bubbles:!0,cancelable:!0})),n=null,p=null,r=null}}),!1);var n=null,p=null,a=null,o=null,r=null,i=null}(window,document);
